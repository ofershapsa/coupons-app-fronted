[{"C:\\Users\\ofer shapsa\\coupons-app\\src\\reportWebVitals.js":"1","C:\\Users\\ofer shapsa\\coupons-app\\src\\App.js":"2","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\admin.jsx":"3","C:\\Users\\ofer shapsa\\coupons-app\\src\\index.js":"4","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\customer.jsx":"5","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\company.jsx":"6","C:\\Users\\ofer shapsa\\coupons-app\\src\\Context.js":"7","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\Login.jsx":"8","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\GuardedRoute.js":"9"},{"size":362,"mtime":499162500000,"results":"10","hashOfConfig":"11"},{"size":943,"mtime":1619016459081,"results":"12","hashOfConfig":"11"},{"size":1410,"mtime":1618906669770,"results":"13","hashOfConfig":"11"},{"size":546,"mtime":1614000460300,"results":"14","hashOfConfig":"11"},{"size":187,"mtime":1606921253191,"results":"15","hashOfConfig":"11"},{"size":185,"mtime":1606921208967,"results":"16","hashOfConfig":"11"},{"size":106,"mtime":1618915060459,"results":"17","hashOfConfig":"11"},{"size":9120,"mtime":1619021418523,"results":"18","hashOfConfig":"11"},{"size":542,"mtime":1619021204821,"results":"19","hashOfConfig":"11"},{"filePath":"20","messages":"21","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"q5ns1n",{"filePath":"23","messages":"24","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"27","usedDeprecatedRules":"22"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"32","messages":"33","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":1,"source":"38","usedDeprecatedRules":"22"},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"22"},"C:\\Users\\ofer shapsa\\coupons-app\\src\\reportWebVitals.js",[],["41","42"],"C:\\Users\\ofer shapsa\\coupons-app\\src\\App.js",[],"C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\admin.jsx",["43","44"],"import React from \"react\"\r\n\r\nimport { Table,Nav,Navbar,NavDropdown } from 'react-bootstrap';\r\nexport default class admin extends React.Component{\r\n   \r\n  handleLogout() {\r\n    localStorage.clear();\r\n    window.location.href = \"/\";\r\n  }\r\n  \r\n  componentDidMount(){\r\n    const jwtToken = localStorage.getItem(\"authorization\");\r\n  }\r\n\r\n  render(){\r\n  return(\r\n  <div>\r\n\r\n<Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n  <Navbar.Brand href=\"#home\">Admin-Page</Navbar.Brand>\r\n  <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n  <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n    <Nav className=\"mr-auto\">\r\n      <Nav.Link href=\"#features\">Features</Nav.Link>\r\n      <Nav.Link href=\"#pricing\">Pricing</Nav.Link>\r\n      <NavDropdown title=\"Dropdown\" id=\"collasible-nav-dropdown\">\r\n        <NavDropdown.Item href=\"#action/3.1\">Action</NavDropdown.Item>\r\n        <NavDropdown.Item href=\"#action/3.2\">Another action</NavDropdown.Item>\r\n        <NavDropdown.Item href=\"#action/3.3\">Something</NavDropdown.Item>\r\n        <NavDropdown.Divider />\r\n        <NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item>\r\n      </NavDropdown>\r\n    </Nav>\r\n    <Nav>\r\n      <Nav.Link href=\"#deets\">More deets</Nav.Link>\r\n      <Nav.Link eventKey={2} href=\"#memes\">\r\n        Dank memes\r\n      </Nav.Link>\r\n    </Nav>\r\n  </Navbar.Collapse>\r\n</Navbar>\r\n  </div>\r\n  \r\n  );\r\n  \r\n  }\r\n  \r\n  \r\n  \r\n  }","C:\\Users\\ofer shapsa\\coupons-app\\src\\index.js",[],"C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\customer.jsx",[],"C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\company.jsx",[],"C:\\Users\\ofer shapsa\\coupons-app\\src\\Context.js",[],"C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\Login.jsx",["45","46"],"import React, { useRef, useReducer, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport {useHistory} from \"react-router\";\r\nimport AppCtx from \"../Context\";\r\n\r\n//import Select from \"react-bootstrap-select\"\r\n//import { Link } from 'react-router-dom';\r\n\r\n/*\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    const endpoint = \"http://localhost:8080/authenticate\";\r\n    const username = this.state.name;\r\n    const password = this.state.password;\r\n    const type = this.state.type;\r\n    const user_object = {\r\n      username: username,\r\n      password: password,\r\n      type: type\r\n      \r\n    };\r\n    \r\n    if (this.inputField.current.value === 'ADMIN') {\r\n      \r\n      axios.post(endpoint, user_object)\r\n      \r\n      .then(res => {\r\n        console.log(res.data);\r\n        localStorage.setItem(\"authorization\", res.data.token);\r\n        if (res.data.token != null) {\r\n          this.authenticated = true;\r\n          console.log(this.isAuthenticated())\r\n          this.props.history.push(this.inputField.current.value)\r\n        }\r\n      }).catch(res => {\r\n        console.log(res.data);\r\n      }\r\n      )\r\n    }\r\n    \r\n    if (this.inputField.current.value === 'COMPANY') {\r\n      axios.post(endpoint, user_object)\r\n      \r\n      .then(res => {\r\n        console.log(res.data);\r\n        \r\n        localStorage.setItem(\"authorization\", res.data.token);\r\n        if (res.data.token != null) {\r\n          this.props.history.push(this.inputField.current.value)\r\n        }\r\n      }).catch(res => {\r\n        console.log(res.data);\r\n      }\r\n      )\r\n      \r\n    }\r\n    \r\n    if (this.inputField.current.value === 'CUSTOMER') {\r\n      axios.post(endpoint, user_object)\r\n      \r\n      .then(res => {\r\n        \r\n        console.log(res.data);\r\n        localStorage.setItem(\"authorization\", res.data.token);\r\n        if (res.data.token != null) {\r\n          this.props.history.push(this.inputField.current.value)\r\n        }\r\n      }).catch(res => {\r\n        console.log(res.data);\r\n      }\r\n      )\r\n      \r\n    }\r\n  }\r\n */\r\n\r\nfunction apiReducer(state, action) {\r\n    if (state.isLoading && action.type === \"DONE\") {\r\n        return {\r\n            isLoading: false,\r\n            data: action.payload,\r\n            error: null,\r\n           \r\n        }\r\n    }\r\n    if (state.isLoading && action.type === \"ERROR\") {\r\n        return {\r\n            ...state,\r\n            isLoading: false,\r\n            error: action.payload,\r\n        }\r\n    }\r\n    if (!state.isLoading && action.type === \"FETCH\") {\r\n        return {\r\n            ...state,\r\n            isLoading: true,\r\n            username: action.payload.username,\r\n            password: action.payload.password,\r\n            type: action.payload.type\r\n        }\r\n    }\r\n    return state;\r\n  }\r\n  \r\n\r\nfunction useTokenApi() {\r\n    const [state, dispatch] = useReducer(apiReducer, {isLoading: false, error: null, data: null})\r\n    const history = useHistory();\r\n    const endpoint = \"http://localhost:8080/authenticate\";\r\n   \r\n    useEffect(() => {\r\n      if (localStorage.getItem(\"authorization\") ) {\r\n        history.push(\"/\");\r\n      }\r\n    }, [history])\r\n    \r\n    useEffect(() => {\r\n      if (state.isLoading) {\r\n        axios.post(endpoint , { username: state.username, password: state.password, type: state.type })\r\n        .then(res => {\r\n          console.log(res.data);\r\n          localStorage.setItem(\"authorization\", res.data.token);\r\n          if (res.data.token != null) {\r\n            \r\n              history.push(`/${state.type}`)\r\n        }\r\n  \r\n           \r\n          }) . catch(err => console.log(err))\r\n        \r\n        }\r\n        if (!state.isLoading && state.data !== null) {\r\n          localStorage.setItem(\"authorization\", state.data)\r\n        }\r\n      }, [state, history ])\r\n      \r\n      return {...state, dispatch}\r\n      }\r\n      \r\n      function Login() {\r\n        const {isLoading, dispatch} = useTokenApi();\r\n        const nameRef = useRef(null);\r\n        const pswRef = useRef(null);\r\n        const typeRef = useRef(null);\r\n        \r\n        return (\r\n          <div className=\"login\">\r\n      <h2 className=\"header\">Coupons App</h2>\r\n\r\n      <div className=\"login-triangle\"></div>\r\n\r\n      <h2 className=\"login-header\">Log in </h2>\r\n\r\n      <form\r\n        className=\"login-container\"\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const username = nameRef.current && nameRef.current.value \r\n          const password = pswRef.current && pswRef.current.value \r\n          const type = typeRef.current && typeRef.current.value \r\n          dispatch({ type: \"FETCH\", payload: {username, password, type} })\r\n        }}\r\n        >\r\n        <p>\r\n          <input type=\"text\" placeholder=\"Name\" ref={nameRef} onChange={() => console.log(nameRef.current && nameRef.current.value)} />\r\n        </p>\r\n        <p>\r\n          <input type=\"password\" placeholder=\"Password\" ref={pswRef}  onChange={() => console.log(pswRef.current && pswRef.current.value)}/>\r\n        </p>\r\n      \r\n        <p>\r\n          <Form>\r\n            <Form.Group controlId=\"exampleForm.SelectCustom\">\r\n              <Form.Control as=\"select\" custom ref={typeRef }onChange={() => console.log(typeRef.current && typeRef.current.value)} >\r\n\r\n                <option disabled>Select Type</option>\r\n                <option value=\"ADMIN\">Admin</option>\r\n                <option value=\"COMPANY\">Company</option>\r\n                <option value=\"CUSTOMER\">Customer</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </Form>\r\n        </p>\r\n\r\n        <p>\r\n          <input disabled={isLoading} type=\"submit\" value=\"Log in\" />\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n  \r\n}\r\n/*\r\nconsole.log(res.data);\r\nlocalStorage.setItem(\"authorization\", res.data.token);\r\nif (res.data.token != null) {\r\n  history.push(this.inputField.current.value)\r\n  */\r\n \r\n /* state = {\r\n   type: '',\r\n   name: '',\r\n   password: '',\r\n   \r\n  }\r\n  */\r\n /*\r\n constructor(props) {\r\n   super(props);\r\n   this.authenticated = false;\r\n   this.inputField = React.createRef();\r\n   this.handleSubmit = this.handleSubmit.bind(this);\r\n   this.handlePassword = this.handlePassword.bind(this);\r\n   this.handleName = this.handleName.bind(this)\r\n   \r\n   //   this.handleT = this.handleT(e).bind(this);\r\n  }\r\n  \r\n  isAuthenticated() {\r\n    \r\n    return this.authenticated;\r\n    \r\n  }\r\n  \r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    const endpoint = \"http://localhost:8080/authenticate\";\r\n    const username = this.state.name;\r\n    const password = this.state.password;\r\n    const type = this.state.type;\r\n    const user_object = {\r\n      username: username,\r\n      password: password,\r\n      type: type\r\n      \r\n    };\r\n    \r\n    if (this.inputField.current.value === 'ADMIN') {\r\n      \r\n      axios.post(endpoint, user_object)\r\n      \r\n      .then(res => {\r\n        console.log(res.data);\r\n        localStorage.setItem(\"authorization\", res.data.token);\r\n        if (res.data.token != null) {\r\n          this.authenticated = true;\r\n          console.log(this.isAuthenticated())\r\n          this.props.history.push(this.inputField.current.value)\r\n        }\r\n      }).catch(res => {\r\n        console.log(res.data);\r\n      }\r\n      )\r\n    }\r\n    \r\n    if (this.inputField.current.value === 'COMPANY') {\r\n      axios.post(endpoint, user_object)\r\n      \r\n      .then(res => {\r\n        console.log(res.data);\r\n        \r\n        localStorage.setItem(\"authorization\", res.data.token);\r\n        if (res.data.token != null) {\r\n          this.props.history.push(this.inputField.current.value)\r\n        }\r\n      }).catch(res => {\r\n        console.log(res.data);\r\n      }\r\n      )\r\n      \r\n    }\r\n    \r\n    if (this.inputField.current.value === 'CUSTOMER') {\r\n      axios.post(endpoint, user_object)\r\n      \r\n      .then(res => {\r\n        \r\n        console.log(res.data);\r\n        localStorage.setItem(\"authorization\", res.data.token);\r\n        if (res.data.token != null) {\r\n          this.props.history.push(this.inputField.current.value)\r\n        }\r\n      }).catch(res => {\r\n        console.log(res.data);\r\n      }\r\n      )\r\n      \r\n    }\r\n  }\r\n  \r\n  \r\n}).catch(res => {\r\nconsole.log(res.data);\r\n  \r\n  \r\n  handleT(e) {\r\n    e.preventDefault();\r\n    e.persist();\r\n    \r\n    setTimeout(() => {\r\n      \r\n      this.setState({ type: this.inputField.current.value })\r\n      console.log(this.state.type)\r\n    }, 0);\r\n    \r\n  }\r\n  \r\n  handlePassword(e) {\r\n    e.persist();\r\n    \r\n    setTimeout(() => {\r\n      \r\n      this.setState({ password: e.target.value })\r\n      console.log(this.state.password)\r\n      \r\n    }, 0);\r\n    \r\n  }\r\n  \r\n  \r\n  handleName(e) {\r\n    e.persist();\r\n    \r\n    setTimeout(() => {\r\n      \r\n      this.setState({ name: e.target.value })\r\n      console.log(this.state.name)\r\n      \r\n    }, 0);\r\n    \r\n    \r\n  }\r\n*/\r\n\r\nexport default Login;\r\n/*<Seexport default App;lect ref={this.inputField} onChange={e=>this.handleT(e)}>\r\n    <option  disabled >--Select type--</option>\r\n    <option value='ADMIN' >-Admin</option>\r\n    <option value ='COMPANY'>-Company</option>\r\n    <option value='CUSTOMER'>-Customer</option>\r\n</Select>\r\n*/","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\GuardedRoute.js",[],{"ruleId":"47","replacedBy":"48"},{"ruleId":"49","replacedBy":"50"},{"ruleId":"51","severity":1,"message":"52","line":3,"column":10,"nodeType":"53","messageId":"54","endLine":3,"endColumn":15},{"ruleId":"51","severity":1,"message":"55","line":12,"column":11,"nodeType":"53","messageId":"54","endLine":12,"endColumn":19},{"ruleId":"51","severity":1,"message":"56","line":5,"column":8,"nodeType":"53","messageId":"54","endLine":5,"endColumn":14},{"ruleId":"57","severity":1,"message":"58","line":120,"column":9,"nodeType":"59","messageId":"60","endLine":130,"endColumn":21,"fix":"61"},"no-native-reassign",["62"],"no-negated-in-lhs",["63"],"no-unused-vars","'Table' is defined but never used.","Identifier","unusedVar","'jwtToken' is assigned a value but never used.","'AppCtx' is defined but never used.","no-whitespace-before-property","Unexpected whitespace before property catch.","MemberExpression","unexpectedWhitespace",{"range":"64","text":"65"},"no-global-assign","no-unsafe-negation",[3576,3579],"."]