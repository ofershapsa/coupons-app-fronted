[{"C:\\Users\\ofer shapsa\\coupons-app\\src\\reportWebVitals.js":"1","C:\\Users\\ofer shapsa\\coupons-app\\src\\App.js":"2","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\admin.jsx":"3","C:\\Users\\ofer shapsa\\coupons-app\\src\\index.js":"4","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\customer.jsx":"5","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\company.jsx":"6","C:\\Users\\ofer shapsa\\coupons-app\\src\\Context.js":"7","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\Login.jsx":"8","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\GuardedRoute.js":"9","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\Company.jsx":"10","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\Admin.jsx":"11","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\Customer.jsx":"12"},{"size":362,"mtime":499162500000,"results":"13","hashOfConfig":"14"},{"size":943,"mtime":1620572609221,"results":"15","hashOfConfig":"14"},{"size":1407,"mtime":1619078816902,"results":"16","hashOfConfig":"14"},{"size":546,"mtime":1614000460300,"results":"17","hashOfConfig":"14"},{"size":143,"mtime":1620557687795,"results":"18","hashOfConfig":"14"},{"size":145,"mtime":1619078354111,"results":"19","hashOfConfig":"14"},{"size":106,"mtime":1618915060459,"results":"20","hashOfConfig":"14"},{"size":9263,"mtime":1619077979855,"results":"21","hashOfConfig":"14"},{"size":542,"mtime":1619021204821,"results":"22","hashOfConfig":"14"},{"size":145,"mtime":1619078354111,"results":"23","hashOfConfig":"14"},{"size":1421,"mtime":1620557687795,"results":"24","hashOfConfig":"14"},{"size":143,"mtime":1620557687795,"results":"25","hashOfConfig":"14"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"q5ns1n",{"filePath":"29","messages":"30","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"31","messages":"32","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"44","usedDeprecatedRules":"28"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51","usedDeprecatedRules":"28"},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"28"},"C:\\Users\\ofer shapsa\\coupons-app\\src\\reportWebVitals.js",[],["54","55"],"C:\\Users\\ofer shapsa\\coupons-app\\src\\App.js",[],"C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\admin.jsx",["56","57"],"C:\\Users\\ofer shapsa\\coupons-app\\src\\index.js",[],"C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\customer.jsx",[],"C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\company.jsx",[],"C:\\Users\\ofer shapsa\\coupons-app\\src\\Context.js",[],["58","59"],"C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\Login.jsx",["60"],"import React, { useRef, useReducer, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Form } from \"react-bootstrap\";\r\nimport {useHistory} from \"react-router\";\r\n\r\n\r\n//import Select from \"react-bootstrap-select\"\r\n//import { Link } from 'react-router-dom';\r\n\r\n/*\r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    const endpoint = \"http://localhost:8080/authenticate\";\r\n    const username = this.state.name;\r\n    const password = this.state.password;\r\n    const type = this.state.type;\r\n    const user_object = {\r\n      username: username,\r\n      password: password,\r\n      type: type\r\n      \r\n    };\r\n    \r\n    if (this.inputField.current.value === 'ADMIN') {\r\n      \r\n      axios.post(endpoint, user_object)\r\n      \r\n      .then(res => {\r\n        console.log(res.data);\r\n        localStorage.setItem(\"authorization\", res.data.token);\r\n        if (res.data.token != null) {\r\n          this.authenticated = true;\r\n          console.log(this.isAuthenticated())\r\n          this.props.history.push(this.inputField.current.value)\r\n        }\r\n      }).catch(res => {\r\n        console.log(res.data);\r\n      }\r\n      )\r\n    }\r\n    \r\n    if (this.inputField.current.value === 'COMPANY') {\r\n      axios.post(endpoint, user_object)\r\n      \r\n      .then(res => {\r\n        console.log(res.data);\r\n        \r\n        localStorage.setItem(\"authorization\", res.data.token);\r\n        if (res.data.token != null) {\r\n          this.props.history.push(this.inputField.current.value)\r\n        }\r\n      }).catch(res => {\r\n        console.log(res.data);\r\n      }\r\n      )\r\n      \r\n    }\r\n    \r\n    if (this.inputField.current.value === 'CUSTOMER') {\r\n      axios.post(endpoint, user_object)\r\n      \r\n      .then(res => {\r\n        \r\n        console.log(res.data);\r\n        localStorage.setItem(\"authorization\", res.data.token);\r\n        if (res.data.token != null) {\r\n          this.props.history.push(this.inputField.current.value)\r\n        }\r\n      }).catch(res => {\r\n        console.log(res.data);\r\n      }\r\n      )\r\n      \r\n    }\r\n  }\r\n */\r\n\r\nfunction apiReducer(state, action) {\r\n    if (state.isLoading && action.type === \"DONE\") {\r\n        return {\r\n            isLoading: false,\r\n            data: action.payload,\r\n            error: null,\r\n           \r\n        }\r\n    }\r\n    if (state.isLoading && action.type === \"ERROR\") {\r\n        return {\r\n            ...state,\r\n            isLoading: false,\r\n            error: action.payload,\r\n        }\r\n    }\r\n    if (!state.isLoading && action.type === \"FETCH\") {\r\n        return {\r\n            ...state,\r\n            isLoading: true,\r\n            username: action.payload.username,\r\n            password: action.payload.password,\r\n            type: action.payload.type\r\n        }\r\n    }\r\n    return state;\r\n  }\r\n  \r\n\r\nfunction useTokenApi() {\r\n    const [state, dispatch] = useReducer(apiReducer, {isLoading: false, error: null, data: null})\r\n    const history = useHistory();\r\n    const endpoint = \"http://localhost:8080/authenticate\";\r\n   \r\n    useEffect(() => {\r\n      if (localStorage.getItem(\"authorization\") ) {\r\n        history.push(\"/\");\r\n      }\r\n    }, [history])\r\n    \r\n    useEffect(() => {\r\n      if (state.isLoading) {\r\n        axios.post(endpoint , { username: state.username, password: state.password, type: state.type })\r\n        .then(res => {\r\n          console.log(res.data);\r\n          localStorage.setItem(\"authorization\", res.data.token);\r\n          if (res.data.token != null) {\r\n            \r\n              history.push(`/${state.type}`)\r\n        }\r\n  \r\n           \r\n          }) . catch(err => console.log(err))\r\n        \r\n        }\r\n        if (!state.isLoading && state.data !== null) {\r\n          localStorage.setItem(\"authorization\", state.data)\r\n        }\r\n      }, [state, history ])\r\n      \r\n      return {...state, dispatch}\r\n      }\r\n      \r\n      function Login() {\r\n        const {isLoading, dispatch} = useTokenApi();\r\n        const nameRef = useRef(null);\r\n        const pswRef = useRef(null);\r\n        const typeRef = useRef(null);\r\n        useEffect(() => {\r\n          if (typeRef.current) {\r\n          console.log(\"this the current value\", typeRef.current.value);\r\n          }\r\n          }, [typeRef])\r\n        \r\n\r\n        return (\r\n          <div className=\"login\">\r\n      <h2 className=\"header\">Coupons App</h2>\r\n\r\n      <div className=\"login-triangle\"></div>\r\n\r\n      <h2 className=\"login-header\">Log in </h2>\r\n\r\n      <form\r\n        className=\"login-container\"\r\n        onSubmit={(e) => {\r\n          e.preventDefault();\r\n          const username = nameRef.current && nameRef.current.value \r\n          const password = pswRef.current && pswRef.current.value \r\n          const type = typeRef.current && typeRef.current.value \r\n          dispatch({ type: \"FETCH\", payload: {username, password, type} })\r\n        }}\r\n        >\r\n        <p>\r\n          <input type=\"text\" placeholder=\"Name\" ref={nameRef} onChange={() => console.log(nameRef.current && nameRef.current.value)} />\r\n        </p>\r\n        <p>\r\n          <input type=\"password\" placeholder=\"Password\" ref={pswRef}  onChange={() => console.log(pswRef.current && pswRef.current.value)}/>\r\n        </p>\r\n      \r\n        <p>\r\n          <Form>\r\n            <Form.Group controlId=\"exampleForm.SelectCustom\">\r\n              <Form.Control as=\"select\" custom ref={typeRef }onChange={() => console.log(typeRef.current && typeRef.current.value)}  >\r\n\r\n                <option disabled>Select Type</option>\r\n                <option value=\"ADMIN\">Admin</option>\r\n                <option value=\"COMPANY\">Company</option>\r\n                <option value=\"CUSTOMER\">Customer</option>\r\n              </Form.Control>\r\n            </Form.Group>\r\n          </Form>\r\n        </p>\r\n\r\n        <p>\r\n          <input disabled={isLoading} type=\"submit\" value=\"Log in\" />\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n  \r\n}\r\n/*\r\nconsole.log(res.data);\r\nlocalStorage.setItem(\"authorization\", res.data.token);\r\nif (res.data.token != null) {\r\n  history.push(this.inputField.current.value)\r\n  */\r\n \r\n /* state = {\r\n   type: '',\r\n   name: '',\r\n   password: '',\r\n   \r\n  }\r\n  */\r\n /*\r\n constructor(props) {\r\n   super(props);\r\n   this.authenticated = false;\r\n   this.inputField = React.createRef();\r\n   this.handleSubmit = this.handleSubmit.bind(this);\r\n   this.handlePassword = this.handlePassword.bind(this);\r\n   this.handleName = this.handleName.bind(this)\r\n   \r\n   //   this.handleT = this.handleT(e).bind(this);\r\n  }\r\n  \r\n  isAuthenticated() {\r\n    \r\n    return this.authenticated;\r\n    \r\n  }\r\n  \r\n  handleSubmit(e) {\r\n    e.preventDefault();\r\n    const endpoint = \"http://localhost:8080/authenticate\";\r\n    const username = this.state.name;\r\n    const password = this.state.password;\r\n    const type = this.state.type;\r\n    const user_object = {\r\n      username: username,\r\n      password: password,\r\n      type: type\r\n      \r\n    };\r\n    \r\n    if (this.inputField.current.value === 'ADMIN') {\r\n      \r\n      axios.post(endpoint, user_object)\r\n      \r\n      .then(res => {\r\n        console.log(res.data);\r\n        localStorage.setItem(\"authorization\", res.data.token);\r\n        if (res.data.token != null) {\r\n          this.authenticated = true;\r\n          console.log(this.isAuthenticated())\r\n          this.props.history.push(this.inputField.current.value)\r\n        }\r\n      }).catch(res => {\r\n        console.log(res.data);\r\n      }\r\n      )\r\n    }\r\n    \r\n    if (this.inputField.current.value === 'COMPANY') {\r\n      axios.post(endpoint, user_object)\r\n      \r\n      .then(res => {\r\n        console.log(res.data);\r\n        \r\n        localStorage.setItem(\"authorization\", res.data.token);\r\n        if (res.data.token != null) {\r\n          this.props.history.push(this.inputField.current.value)\r\n        }\r\n      }).catch(res => {\r\n        console.log(res.data);\r\n      }\r\n      )\r\n      \r\n    }\r\n    \r\n    if (this.inputField.current.value === 'CUSTOMER') {\r\n      axios.post(endpoint, user_object)\r\n      \r\n      .then(res => {\r\n        \r\n        console.log(res.data);\r\n        localStorage.setItem(\"authorization\", res.data.token);\r\n        if (res.data.token != null) {\r\n          this.props.history.push(this.inputField.current.value)\r\n        }\r\n      }).catch(res => {\r\n        console.log(res.data);\r\n      }\r\n      )\r\n      \r\n    }\r\n  }\r\n  \r\n  \r\n}).catch(res => {\r\nconsole.log(res.data);\r\n  \r\n  \r\n  handleT(e) {\r\n    e.preventDefault();\r\n    e.persist();\r\n    \r\n    setTimeout(() => {\r\n      \r\n      this.setState({ type: this.inputField.current.value })\r\n      console.log(this.state.type)\r\n    }, 0);\r\n    \r\n  }\r\n  \r\n  handlePassword(e) {\r\n    e.persist();\r\n    \r\n    setTimeout(() => {\r\n      \r\n      this.setState({ password: e.target.value })\r\n      console.log(this.state.password)\r\n      \r\n    }, 0);\r\n    \r\n  }\r\n  \r\n  \r\n  handleName(e) {\r\n    e.persist();\r\n    \r\n    setTimeout(() => {\r\n      \r\n      this.setState({ name: e.target.value })\r\n      console.log(this.state.name)\r\n      \r\n    }, 0);\r\n    \r\n    \r\n  }\r\n*/\r\n\r\nexport default Login;\r\n/*<Seexport default App;lect ref={this.inputField} onChange={e=>this.handleT(e)}>\r\n    <option  disabled >--Select type--</option>\r\n    <option value='ADMIN' >-Admin</option>\r\n    <option value ='COMPANY'>-Company</option>\r\n    <option value='CUSTOMER'>-Customer</option>\r\n</Select>\r\n*/","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\GuardedRoute.js",[],"C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\Company.jsx",[],"C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\Admin.jsx",["61","62","63","64"],"import React from \"react\"\r\n\r\nimport { Table,Nav,Navbar,NavDropdown } from 'react-bootstrap';\r\n\r\n  \r\n  function componentDidMount(){\r\n    const jwtToken = localStorage.getItem(\"authorization\");\r\n  }\r\n  function handleLogout() {\r\n    localStorage.clear();\r\n    window.location.href = \"/\";\r\n  }\r\n  \r\n\r\n\r\n // render(){\r\n   function Admin(){\r\n  return(\r\n  <div>\r\n\r\n<Navbar collapseOnSelect expand=\"lg\" bg=\"dark\" variant=\"dark\">\r\n  <Navbar.Brand href=\"#home\">Admin-Page</Navbar.Brand>\r\n  <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n  <Navbar.Collapse id=\"responsive-navbar-nav\">\r\n    <Nav className=\"mr-auto\">\r\n      <Nav.Link href=\"#features\">Features</Nav.Link>\r\n      <Nav.Link href=\"#pricing\">Pricing</Nav.Link>\r\n      <NavDropdown title=\"Dropdown\" id=\"collasible-nav-dropdown\">\r\n        <NavDropdown.Item href=\"#action/3.1\">Action</NavDropdown.Item>\r\n        <NavDropdown.Item href=\"#action/3.2\">Another action</NavDropdown.Item>\r\n        <NavDropdown.Item href=\"#action/3.3\">Something</NavDropdown.Item>\r\n        <NavDropdown.Divider />\r\n        <NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item>\r\n      </NavDropdown>\r\n    </Nav>\r\n    <Nav>\r\n      <Nav.Link href=\"#deets\">More deets</Nav.Link>\r\n      <Nav.Link eventKey={2} href=\"#memes\">\r\n        Dank memes\r\n      </Nav.Link>\r\n    </Nav>\r\n  </Navbar.Collapse>\r\n</Navbar>\r\n  </div>\r\n  \r\n  );\r\n}\r\n\r\nexport default Admin;\r\n ","C:\\Users\\ofer shapsa\\coupons-app\\src\\components\\Customer.jsx",[],{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","severity":1,"message":"70","line":3,"column":10,"nodeType":"71","messageId":"72","endLine":3,"endColumn":15},{"ruleId":"69","severity":1,"message":"73","line":12,"column":11,"nodeType":"71","messageId":"72","endLine":12,"endColumn":19},{"ruleId":"65","replacedBy":"74"},{"ruleId":"67","replacedBy":"75"},{"ruleId":"76","severity":1,"message":"77","line":120,"column":9,"nodeType":"78","messageId":"79","endLine":130,"endColumn":21,"fix":"80"},{"ruleId":"69","severity":1,"message":"70","line":3,"column":10,"nodeType":"71","messageId":"72","endLine":3,"endColumn":15},{"ruleId":"69","severity":1,"message":"81","line":6,"column":12,"nodeType":"71","messageId":"72","endLine":6,"endColumn":29},{"ruleId":"69","severity":1,"message":"73","line":7,"column":11,"nodeType":"71","messageId":"72","endLine":7,"endColumn":19},{"ruleId":"69","severity":1,"message":"82","line":9,"column":12,"nodeType":"71","messageId":"72","endLine":9,"endColumn":24},"no-native-reassign",["83"],"no-negated-in-lhs",["84"],"no-unused-vars","'Table' is defined but never used.","Identifier","unusedVar","'jwtToken' is assigned a value but never used.",["83"],["84"],"no-whitespace-before-property","Unexpected whitespace before property catch.","MemberExpression","unexpectedWhitespace",{"range":"85","text":"86"},"'componentDidMount' is defined but never used.","'handleLogout' is defined but never used.","no-global-assign","no-unsafe-negation",[3544,3547],"."]